<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>멤버 상세 정보</title>
  <link rel="stylesheet" th:href="@{/css/admin-style.css}" />
  <style>
    .member-info { 
      background-color: #f8f9fa; 
      padding: 20px; 
      border-radius: 8px; 
      margin: 20px 0; 
    }
    .info-row { 
      display: flex; 
      margin: 10px 0; 
      padding: 8px 0; 
      border-bottom: 1px solid #e9ecef; 
    }
    .info-label { 
      font-weight: bold; 
      width: 150px; 
      color: #495057; 
    }
    .info-value { 
      flex: 1; 
      color: #212529; 
    }
    .status-active { color: #28a745; font-weight: bold; }
    .status-inactive { color: #dc3545; font-weight: bold; }
    .provider-badge { 
      display: inline-block; 
      padding: 4px 12px; 
      border-radius: 16px; 
      font-size: 14px; 
      font-weight: bold;
    }
    .provider-email { background-color: #e3f2fd; color: #1976d2; }
    .provider-kakao { background-color: #fff3e0; color: #f57c00; }
    .profile-image { 
      width: 100px; 
      height: 100px; 
      border-radius: 50%; 
      object-fit: cover; 
      border: 3px solid #dee2e6; 
    }
    .action-buttons { 
      margin-top: 20px; 
      display: flex; 
      gap: 10px; 
    }
  </style>
</head>
<body>
<h1>멤버 상세 정보</h1>
<div th:if="${message}" th:text="${message}" style="background-color: #d4edda; color: #155724; padding: 10px; border-radius: 4px; margin: 10px 0;">성공 메시지</div>

<div class="member-info">
  <div class="info-row">
    <div class="info-label">프로필 이미지:</div>
    <div class="info-value">
      <img th:if="${member.profileImageUrl != null and !member.profileImageUrl.isEmpty()}"
           th:src="${member.profileImageUrl}" 
           class="profile-image" 
           alt="프로필 이미지" />
      <span th:if="${member.profileImageUrl == null or member.profileImageUrl.isEmpty()}"
            style="color: #6c757d;">이미지 없음</span>
    </div>
  </div>
  
  <div class="info-row">
    <div class="info-label">사용자 ID:</div>
    <div class="info-value" th:text="${member.userId}">1</div>
  </div>
  
  <div class="info-row">
    <div class="info-label">이름:</div>
    <div class="info-value" th:text="${member.name}">홍길동</div>
  </div>
  
  <div class="info-row">
    <div class="info-label">이메일:</div>
    <div class="info-value" th:text="${member.email}">user@example.com</div>
  </div>
  
  <div class="info-row">
    <div class="info-label">로그인 방식:</div>
    <div class="info-value">
      <span th:class="'provider-badge provider-' + ${member.provider.toString().toLowerCase()}"
            th:text="${member.provider}">EMAIL</span>
    </div>
  </div>
  
  <div class="info-row" th:if="${member.providerId != null and !member.providerId.isEmpty()}">
    <div class="info-label">소셜 ID:</div>
    <div class="info-value" th:text="${member.providerId}">123456789</div>
  </div>
  
  <div class="info-row">
    <div class="info-label">계정 상태:</div>
    <div class="info-value">
      <span th:class="${member.isActive} ? 'status-active' : 'status-inactive'"
            th:text="${member.isActive} ? '활성' : '비활성'">활성</span>
    </div>
  </div>
  
  <div class="info-row">
    <div class="info-label">가입일:</div>
    <div class="info-value" th:text="${#temporals.format(member.createdAt, 'yyyy년 MM월 dd일 HH:mm:ss')}">2024년 01월 01일 12:00:00</div>
  </div>
  
  <div class="info-row">
    <div class="info-label">수정일:</div>
    <div class="info-value" th:text="${#temporals.format(member.updatedAt, 'yyyy년 MM월 dd일 HH:mm:ss')}">2024년 01월 01일 12:00:00</div>
  </div>
</div>

<div class="action-buttons">
  <a th:href="@{/admin/members/{userId}/edit(userId=${member.userId})}" class="btn-like-link">수정</a>
  <form th:action="@{/admin/members/{userId}/toggle-active(userId=${member.userId})}" method="post" style="display:inline;">
    <button type="submit" class="btn-like-link" 
            th:text="${member.isActive} ? '비활성화' : '활성화'"
            th:onclick="'return confirm(\'' + (${member.isActive} ? '비활성화' : '활성화') + '하시겠습니까?\');'">비활성화</button>
  </form>
  <form th:action="@{/admin/members/{userId}/delete(userId=${member.userId})}" method="post" style="display:inline;">
    <button type="submit" class="btn-like-link" onclick="return confirm('정말로 삭제하시겠습니까?');">삭제</button>
  </form>
  <a th:href="@{/admin/members}" class="btn-like-link">목록으로</a>
</div>

</body>
</html>
