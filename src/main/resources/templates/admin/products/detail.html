<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>상품 상세보기</title>
  <link rel="stylesheet" th:href="@{/css/admin-style.css}" />
  <style>
    .product-detail { max-width: 800px; margin: 20px auto; }
    .product-image { max-width: 300px; max-height: 300px; object-fit: cover; }
    .detail-section { margin: 20px 0; padding: 15px; border: 1px solid #ddd; border-radius: 5px; }
    .action-buttons { margin-top: 20px; }
    .action-buttons a, .action-buttons button { margin-right: 10px; }
  </style>
</head>
<body>
<div class="product-detail">
  <h1>상품 상세보기</h1>
  
  <div class="detail-section">
    <h3>기본 정보</h3>
    <div th:if="${product.src != null and !product.src.isEmpty()}">
      <img th:src="${product.src}" 
           th:onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDMwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIiBmaWxsPSIjRjVGNUY1Ii8+CjxwYXRoIGQ9Ik0xMDAgMTAwSDIwMFYyMDBIMTAwVjEwMFoiIGZpbGw9IiNEOUQ5RDkiLz4KPHN2Zz4K'"
           th:alt="${product.name}" 
           class="product-image">
    </div>
    <div th:if="${product.src == null or product.src.isEmpty()}">
      <div style="width:300px; height:300px; background-color:#f5f5f5; display:flex; align-items:center; justify-content:center; color:#999;">
        이미지 없음
      </div>
    </div>
    <p><strong>상품명:</strong> <span th:text="${product.name}">상품명</span></p>
    <p><strong>카테고리:</strong> <span th:text="${product.categoryName}">카테고리</span></p>
    <p><strong>상품 타입:</strong> <span th:text="${product.productType}">타입</span></p>
    <p><strong>가격:</strong> <span th:text="${#numbers.formatInteger(product.cost, 3, 'COMMA')} + '원'">10,000원</span></p>
  </div>

  <div class="detail-section">
    <h3>링크 정보</h3>
    <p><strong>상품 링크:</strong> 
      <a th:href="${product.link}" th:text="${product.link}" target="_blank" style="color:#007bff; word-break:break-all;">링크</a>
    </p>
  </div>

  <div class="action-buttons">
    <a th:href="@{/admin/products}" class="btn-like-link">목록으로</a>
    <a th:href="@{/admin/products/{id}/edit(id=${product.id})}" class="btn-like-link">수정</a>
    <form th:action="@{/admin/products/{id}/delete(id=${product.id})}" method="post" style="display:inline;">
      <button type="submit" class="btn-like-link" onclick="return confirm('정말로 삭제하시겠습니까?');">삭제</button>
    </form>
  </div>
</div>
</body>
</html>
